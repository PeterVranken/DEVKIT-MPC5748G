<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>comFramework-CANInterface: cde_mapOsHandleFrameToCdeIndex_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">comFramework-CANInterface
   &#160;<span id="projectnumber">1.4</span>
   </div>
   <div id="projectbrief">comFramework - CAN Interface - A highly flexible CAN interface for embedded platforms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structcde__map_os_handle_frame_to_cde_index__t.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">cde_mapOsHandleFrameToCdeIndex_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="cde__can_dispatcher_engine_8h_source.html">cde_canDispatcherEngine.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:aa3fcc925bc0e491d7d126abd32a0f273"><td class="memItemLeft" align="right" valign="top">boolean_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcde__map_os_handle_frame_to_cde_index__t.html#aa3fcc925bc0e491d7d126abd32a0f273">fctMakeMapEntryOsHandleFrameToCdeIndex</a> )(unsigned long canId, unsigned int idxBus, <a class="el" href="cde__can_dispatcher_engine_8config_8h.html#aa315212b79df638706d6b0160bfae343">cde_osHandleFrame_t</a> osHandleFrame, unsigned int cdeIdxFrame, boolean_t isInbound)</td></tr>
<tr class="separator:aa3fcc925bc0e491d7d126abd32a0f273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d747e88ecb1e725f9398df24186a35a"><td class="memItemLeft" align="right" valign="top">boolean_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcde__map_os_handle_frame_to_cde_index__t.html#a6d747e88ecb1e725f9398df24186a35a">fctMapOsHandleFrameToCdeIndex</a> )(unsigned int *pIdxFrame, unsigned int idxBus, <a class="el" href="cde__can_dispatcher_engine_8config_8h.html#aa315212b79df638706d6b0160bfae343">cde_osHandleFrame_t</a> osHandleFrame)</td></tr>
<tr class="separator:a6d747e88ecb1e725f9398df24186a35a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The interface of a a map, which associates bus index and OS frame handle with the internally used frame index. The implementation of the map is done externally as part of the integration, here we just specify the interface of the required map. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="aa3fcc925bc0e491d7d126abd32a0f273"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean_t(* cde_mapOsHandleFrameToCdeIndex_t::fctMakeMapEntryOsHandleFrameToCdeIndex)(unsigned long canId, unsigned int idxBus, <a class="el" href="cde__can_dispatcher_engine_8config_8h.html#aa315212b79df638706d6b0160bfae343">cde_osHandleFrame_t</a> osHandleFrame, unsigned int cdeIdxFrame, boolean_t isInbound)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This (external) function helps to prepare the map. A single association as appears in each frame registration is reported to the map initialization code. This function is called once per registered frame as sub-routine of <a class="el" href="cde__can_dispatcher_engine_8c.html#ae899a59eb3b3d1850e97185b9c8510a7">cde_registerFrame()</a>.<br />
 May be NULL. Now a default mapping is applied: The engine assumes that the OS uses the same zero based linear index as frame handle as itself does. If it is NULL the the other function pointer <em>fctMapOsHandleFrameToCdeIndex</em> needs to be NULL, too.<br />
 Return value:<br />
The external function will return <em>true</em>, if it succeeds. The implementation of the map may be size or otherwise limited. If the map entry could not be made the external function may return <em>false</em>. The CAN interface engine will assume that the frame in question won't be processed later, it'll in turn discard its related entries. If later at run-time an event relates to this frame then it'll be ignored.<br />
 Parameter <em>canId</em> :<br />
The CAN ID of the frame in question. It is the value of the same parameter in the call of the parent function <em>cde_registerFrame</em>.<br />
 Parameter <em>idxBus</em> :<br />
The zero based index of the bus the frame in question is transmitted on. It is the value of the same parameter in the call of the parent function <em>cde_registerFrame</em>.<br />
 Parameter <em>osHandleFrame</em> :<br />
The handle as it has got from the frame registration or initialization at the operating system. It is the value of the same parameter in the call of the parent function <em>cde_registerFrame</em>.<br />
 Parameter <em>cdeIdxFrame</em> :<br />
The zero based index of the frame as used inside the CAN interface implementation. This value needs to be associated with the operating system's frame identification (idxBus,osHandleFrame)<br />
 Parameter <em>isInbound</em> :<br />
The transmission direction of the frame in question. This parameter is useless for the pure lookup operation. The frame identification (idxBus,osHandleFrame) should be unique without it and the lookup function <em>fctMapOsHandleFrameToCdeIndex</em> won't make a statement about the transmission direction. The use case is a typical optimization. In many integrations the only frame events will relate to frame reception. If so, the map could silently ignore all outbound frames and save a significant amount of space.<br />
 It is the value of the same parameter in the call of the parent function <a class="el" href="cde__can_dispatcher_engine_8c.html#ae899a59eb3b3d1850e97185b9c8510a7">cde_registerFrame()</a>. </p><dl class="section remark"><dt>Remarks</dt><dd>This function is called in the system initialization phase, i.e. in a single threaded, race condition free context. </dd></dl>

</div>
</div>
<a class="anchor" id="a6d747e88ecb1e725f9398df24186a35a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean_t(* cde_mapOsHandleFrameToCdeIndex_t::fctMapOsHandleFrameToCdeIndex)(unsigned int *pIdxFrame, unsigned int idxBus, <a class="el" href="cde__can_dispatcher_engine_8config_8h.html#aa315212b79df638706d6b0160bfae343">cde_osHandleFrame_t</a> osHandleFrame)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The actual map function. The map is queried for a frame index as internally used by the dispatcher engine. The map query function is called as sub-routine of the frame event notification <a class="el" href="cde__can_dispatcher_engine_8c.html#a9a50fb3a31b152444c3447ce0f131442">cde_postFrameEvent()</a>.<br />
 May be NULL. Now a default mapping is applied: The engine assumes that the OS uses the same zero based linear index as frame handle as itself does. If it is NULL it may still happen to have a non NULL function pointer for <em>fctMakeMapEntryOsHandleFrameToCdeIndex</em>. It is for example good practice to double-check in DEBUG configuration if the presumptions of the default mapping are really fulfilled.<br />
 Return value:<br />
Normally, the frame index is returned by reference (see below) and the function result is <em>true</em>. If the function doesn't find a suitable association it will return <em>false</em> and the related frame event is lost.<br />
 Parameter <em>pIdxFrame</em> :<br />
The result of the lookup operation is returned by reference. If the function returns <em>false</em> then it may ignore this parameter.<br />
 Parameter <em>idxBus</em> :<br />
The zero based index of the bus the frame in question is transmitted on.<br />
 Parameter <em>osHandleFrame</em> :<br />
The operating system handle of the frame. It is assumed that this is the handle, which is used in the (platform specific) frame reception interrupt or callback to identify the frame. </p><dl class="section remark"><dt>Remarks</dt><dd>The external implementation of the map function needs to be fully reentrant. It can be called concurrently by all CPU contexts, which can invoke <em>cde_postFrameEvent</em> to report a frame related event. Full re-entrance is considered a weak constraint for the implementation insofar the mapping is a pure lookup operation in static, unchangeable data. All possible handle associations have been defined in the race-condition free initialization phase. </dd>
<dd>
The function is called as sub-routine of <a class="el" href="cde__can_dispatcher_engine_8c.html#a9a50fb3a31b152444c3447ce0f131442">cde_postFrameEvent()</a>, see there for more details about re-entrance and CPU contexts. </dd></dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="cde__can_dispatcher_engine_8h_source.html">cde_canDispatcherEngine.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structcde__map_os_handle_frame_to_cde_index__t.html">cde_mapOsHandleFrameToCdeIndex_t</a></li>
    <li class="footer">Generated on Wed Sep 12 2018 23:00:09 for comFramework-CANInterface by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
