<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>comFramework-CANInterface: mem_malloc.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">comFramework-CANInterface
   &#160;<span id="projectnumber">1.4</span>
   </div>
   <div id="projectbrief">comFramework - CAN Interface - A highly flexible CAN interface for embedded platforms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mem__malloc_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mem_malloc.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;types.h&quot;</code><br />
<code>#include &quot;stdlib.h&quot;</code><br />
<code>#include &quot;<a class="el" href="cde__can_dispatcher_engine_8config_8h_source.html">cde_canDispatcherEngine.config.h</a>&quot;</code><br />
</div>
<p><a href="mem__malloc_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9af1afd6b2143b1ef14c7c5d4fd36122"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__malloc_8h.html#a9af1afd6b2143b1ef14c7c5d4fd36122">MEM_DIAGNOSTIC_INTERFACE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a9af1afd6b2143b1ef14c7c5d4fd36122"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a21acf8ec12a481b6ecc5870a3dfee310"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__malloc_8h.html#a21acf8ec12a481b6ecc5870a3dfee310">mem_initModule</a> (void *pAppMemory, unsigned int sizeOfAppMemory)</td></tr>
<tr class="separator:a21acf8ec12a481b6ecc5870a3dfee310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81d23350a4961fea4c745c6050ea66c0"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__malloc_8h.html#a81d23350a4961fea4c745c6050ea66c0">mem_malloc</a> (unsigned int sizeOfChunk, boolean_t mutualExclusionOfClients)</td></tr>
<tr class="separator:a81d23350a4961fea4c745c6050ea66c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392caf756200425b72d5272601fae340"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__malloc_8h.html#a392caf756200425b72d5272601fae340">mem_getNbrOfAvailableBytes</a> ()</td></tr>
<tr class="separator:a392caf756200425b72d5272601fae340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0229feef577f14e29b255bb4c993d3d"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__malloc_8h.html#ae0229feef577f14e29b255bb4c993d3d">mem_getNbrOfAllocatedChunks</a> ()</td></tr>
<tr class="separator:ae0229feef577f14e29b255bb4c993d3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd088e8161417295f5035fcd5574ca45"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__malloc_8h.html#abd088e8161417295f5035fcd5574ca45">mem_getNbrOfAllocatedBytes</a> ()</td></tr>
<tr class="separator:abd088e8161417295f5035fcd5574ca45"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Definition of global interface of module <a class="el" href="mem__malloc_8c.html">mem_malloc.c</a></p>
<p>Copyright (C) 2015 Peter Vranken (<a href="#" onclick="location.href='mai'+'lto:'+'Pet'+'er'+'_Vr'+'an'+'ken'+'@Y'+'aho'+'o.'+'de'; return false;">Peter<span style="display: none;">.nosp@m.</span>_Vra<span style="display: none;">.nosp@m.</span>nken@<span style="display: none;">.nosp@m.</span>Yaho<span style="display: none;">.nosp@m.</span>o.de</a>)</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation, either version 3 of the License, or any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.</p>
<p>You should have received a copy of the GNU Lesser General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a9af1afd6b2143b1ef14c7c5d4fd36122"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MEM_DIAGNOSTIC_INTERFACE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A tiny API to get some information about memory usage can be conditionally compiled. Use this API during development phase to reduce the heap space to the minimum possible. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a21acf8ec12a481b6ecc5870a3dfee310"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mem_initModule </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pAppMemory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sizeOfAppMemory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the module at application startup. The internal data structures are set up.</p>
<p>Initialize the module at application startup. The internal data structures are set up.<br />
 This function must be called once and only once. Re-initialization is forbidden due to the static, deterministic memory allocation concept. </p><dl class="section return"><dt>Returns</dt><dd><em>true</em>, if function succeeded, else <em>false</em>.<br />
 The function will fail only in case of lack of memory. Since all memory allocation is static and deterministic an appropriate and recommended failure handling concept is to check the return value by assertion only. Anyhow, the system is not operational if this function returns <em>false</em>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pAppMemory</td><td>The pointer to a chunk of memory, which is statically allocated, available and reserved for the CAN interface during the entire application run-time. This chunk of memory will be partitioned and made available to the data structures of the CAN interface. </td></tr>
    <tr><td class="paramname">sizeOfAppMemory</td><td>The number of bytes of <em>pAppMemory</em>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>The call of this function has to be done in a race condition free environment, prior to entering the multi-tasking phase of the application. Most platform will offer an initialization task for this purpose. </dd></dl>

</div>
</div>
<a class="anchor" id="a81d23350a4961fea4c745c6050ea66c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* mem_malloc </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sizeOfChunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean_t&#160;</td>
          <td class="paramname"><em>mutualExclusionOfClients</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A chunk of memory is allocated.</p>
<p>A chunk of memory is allocated. </p><dl class="section return"><dt>Returns</dt><dd>Get the pointer to the reserved chunk of memory of requested size. The address will surely be aligned according to the common machine alignment, see configuration setting <a class="el" href="cde__can_dispatcher_engine_8config_8h.html#a714f50e21da333191f9038978888ce31">CDE_COMMON_MACHINE_ALIGNMENT</a>.<br />
 The function returns NULL if the complete available memory is exhausted. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sizeOfChunk</td><td>The number of requested bytes. </td></tr>
    <tr><td class="paramname">mutualExclusionOfClients</td><td>If the same memory is partitioned and distributed to clients running in different task (or interrupt) contexts the entry into this method needs to be serialized. If <em>mutualExclusionOfClients</em> is <em>true</em> then macros <a class="el" href="cde__can_dispatcher_engine_8config_8h.html#abd9a70d559522dfac1af90b99d1fdb1e">cde_enterCriticalSection</a> and <a class="el" href="cde__can_dispatcher_engine_8config_8h.html#a2896ec09d34c4c244f9289952802c58c">cde_leaveCriticalSection</a> are called to do this. One should pass <em>false</em> in a single threaded environment. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a392caf756200425b72d5272601fae340"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int mem_getNbrOfAvailableBytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the number of memory bytes left for allocation.</p>
<p>Get the number of memory bytes left for allocation. A chunk successfully requested with mem_malloc cannot exceed this size. </p><dl class="section return"><dt>Returns</dt><dd>Get the number of bytes. </dd></dl>

</div>
</div>
<a class="anchor" id="ae0229feef577f14e29b255bb4c993d3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int mem_getNbrOfAllocatedChunks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Diagnostic interface: Get the number of memory chunks allocated so far.</p>
<p>Diagnostic interface: Get the number of memory chunks allocated so far. </p><dl class="section return"><dt>Returns</dt><dd>Get the number. </dd></dl>

</div>
</div>
<a class="anchor" id="abd088e8161417295f5035fcd5574ca45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int mem_getNbrOfAllocatedBytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Diagnostic interface: Get the number of memory bytes allocated so far.</p>
<p>Diagnostic interface: Get the number of memory bytes allocated so far. Due to alignment operations this can be more than the sum of all requested chunk sizes. </p><dl class="section return"><dt>Returns</dt><dd>Get the number of bytes. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_050edd66366d13764f98250ef6db77f6.html">code</a></li><li class="navelem"><a class="el" href="mem__malloc_8h.html">mem_malloc.h</a></li>
    <li class="footer">Generated on Wed Sep 12 2018 23:00:09 for comFramework-CANInterface by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
